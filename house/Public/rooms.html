<!DOCTYPE html>
<html lang="en">

<head>
    <meta charset="UTF-8">
    <meta name="viewport" content="width=device-width, initial-scale=1.0">
    <title>Document</title>
    <link rel="stylesheet" href="styleRoomPage.css">

</head>

<body>
    <div class="main">
        <div class="back">
            <a href="index.html"><img src="icons/back.svg"></a>
            <a href="#" class="edit"><img src="icons/edit.svg"></a>
        </div>

        <form onsubmit="createRoom(event)">
            <input type="text" placeholder="roomName" name="roomName">
            <input type="text" placeholder="assignUser" name="assignUser">
            <input type="number" placeholder="size" name="size">
            <input type="text" placeholder="assignHouse" name="assignHouse">
            <input type="date" placeholder="lastClean" name="lastClean">
            <button type="submit">צור חדר</button>

        </form>

        <div class="rooms">
            <div class="img1">
                <a href="rooms/livingRoom.html"><img src="img/rooms/small/livingRoom.jpg" class="img">
                    <p class="roomsParag">Living room</p>
                </a>
            </div>
            <div class="img2">
                <a href="rooms/kitchenRoom.html"><img src="img/rooms/small/kitchenRoom.jpg">
                    <p class="roomsParag">Kitchen</p>
                </a>
            </div>
            <div class="img3">
                <a href="rooms/restRoom.html"><img src="img/rooms/small/restRoom.jpg">
                    <p class="roomsParag">Rest room</p>
                </a>
            </div>
            <div class="img4">
                <a href="rooms/bedRoom.html"><img src="img/rooms/small/bedRoom.jpg">
                    <p class="roomsParag">Bed room</p>
                </a>
            </div>
            <div class="img5">
                <a href="rooms/teenRoom.html"><img src="img/rooms/small/teenRoom.jpg">
                    <p class="roomsParag">Teen room</p>
                </a>
            </div>
            <div class="img6">
                <a href="rooms/childRoom.html"><img src="img/rooms/small/childRoom.jpg">
                    <p class="roomsParag">Child room</p>
                </a>
            </div>
        </div>
    </div>
    <script>
        function createRoom(e) {
            e.preventDefault()

            let roomName = e.target.children.roomName.value
            let assignUser = e.target.children.assignUser.value
            let assignHouse = e.target.children.assignHouse.value

            fetch('/createRoom', {
                    method: 'POST',
                    headers: {
                        'Content-Type': 'application/json'
                    },
                    body: JSON.stringify({
                        roomName,
                        assignUser,
                        assignHouse
                    })
                }).then(r => r.json())
                .then(data => {
                    console.log(data)
                    if (data.validation == true) {
                        window.open("rooms.html")
                    } else {
                        alert("go-out-of-here!!!!!!")
                    }
                })
        }
    </script>
</body>

</html>